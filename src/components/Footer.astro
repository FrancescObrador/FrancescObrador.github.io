---
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import GradientText from "./shared/GradientText.astro";
import { Icon } from "astro-icon/components";
import LinkInline from "./shared/LinkInline.astro";
import CopyEmail from "./shared/CopyEmail.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const currentYear = new Date().getFullYear();
---

<footer class="mt-24 py-8 px-4 border-t border-black/10 dark:border-white/15">
  <div
    class="max-w-6xl mx-auto flex flex-col md:flex-row gap-6 items-center justify-between p-6 rounded-2xl bg-white/50 dark:bg-slate-800/30 ring-1 ring-black/10 dark:ring-white/15"
  >
    <div class="text-center md:text-left">
      <p class="text-slate-600 dark:text-gray-300">
        Â© {currentYear}
        <GradientText from="from-blue-400" to="to-blue-600" class="font-medium">
          Francesc Obrador
        </GradientText>
        . {t("footer.rights")}
      </p>
      <p class="text-sm text-slate-500/80 dark:text-slate-400/60 mt-1">
        {t("footer.built_with")}
      </p>
    </div>

    <nav class="flex gap-4 items-center">
      <CopyEmail
        email="obrador.francesc@gmail.com"
        class="text-gray-600 dark:text-gray-300"
      />

      <div class="h-4 w-px bg-gray-300/50 dark:bg-gray-600/50"></div>

      <LinkInline
        href="https://github.com/FrancescObrador"
        class="text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 transition-colors"
      >
        <span class="sr-only">GitHub</span>
        <Icon name="social/github" class="w-6 h-6" />
      </LinkInline>

      <LinkInline
        href="https://linkedin.com/in/francesc-obrador"
        class="text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
      >
        <span class="sr-only">LinkedIn</span>
        <Icon name="social/linkedin" class="w-6 h-6" />
      </LinkInline>
    </nav>
  </div>
</footer>
